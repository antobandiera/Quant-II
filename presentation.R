## ------------------------------------------------------------------------
my.name <- "Antonella"
paste("My","name","is","Antonella", sep=" ")
as.character(99)
class(my.name)

## ------------------------------------------------------------------------
num <- 99.867
class(num)
round(num, digits=2)
pi
exp(1)

## ------------------------------------------------------------------------
ls()

## ------------------------------------------------------------------------
2 == 4
class(2==4)

## ------------------------------------------------------------------------
my.name != num

## ------------------------------------------------------------------------
"34" == 34

## ------------------------------------------------------------------------
X <- 1:100; Y <- rnorm(100,X)
out.lm <- lm(Y~X)
class(out.lm)

## ------------------------------------------------------------------------
out.lm$coefficients

## ------------------------------------------------------------------------
as.vector(4)
4

## ------------------------------------------------------------------------
vec <- c("a","b","c")
vec

## ------------------------------------------------------------------------
c(2,3,vec)

## ------------------------------------------------------------------------
c(1,2,3,4) + c(1,2)

## ------------------------------------------------------------------------
c(1,2,3,4) + c(1,2,1,2)

## ------------------------------------------------------------------------
c(1,2,3,4) + c(1,2,3)

## ------------------------------------------------------------------------
vec[1]

## ------------------------------------------------------------------------
names(vec) <- c("first","second","third")
vec

## ------------------------------------------------------------------------
vec["first"]

## ------------------------------------------------------------------------
vector1 <- 1:5
vector1

vector1 <- c(1:5,7,11)
vector1

vector2 <- 1:7
vector2

## ------------------------------------------------------------------------
cbind(vector1,vector2)
rbind(vector1,vector2)


## ------------------------------------------------------------------------
vec[1] <- NA
vec

## ------------------------------------------------------------------------
is.na(vec)

## ------------------------------------------------------------------------
vec[!is.na(vec)] # vec[complete.cases(vec)]

## ------------------------------------------------------------------------
listie <- list(first = vec, second = num)
listie

## ------------------------------------------------------------------------
listie[[1]]
listie$first

## ------------------------------------------------------------------------
a <- c(1,2,3,4,5)
a
sum(a)
max(a)
min(a)

## ------------------------------------------------------------------------
length(a)
length <- length(a)
b <- seq(from=0,to=5,by=.5)
c <- rep(10,27)
d <- runif(100)

## ------------------------------------------------------------------------
A <- matrix(c(1,2,3,4),nrow=2,ncol=2)
A
A[1,2]
A[1,]

## ------------------------------------------------------------------------
solve(A) #A^{-1}

## ------------------------------------------------------------------------
10*A

## ------------------------------------------------------------------------
B<-diag(c(1,2)) #Extract or replace diagonal of a matrix
B

## ------------------------------------------------------------------------
A%*%B

## ------------------------------------------------------------------------
t(A) # A'

## ------------------------------------------------------------------------
rbind(A,B)

## ------------------------------------------------------------------------
cbind(A,B)

## ------------------------------------------------------------------------
c(1,2,3)%x%c(1,1) # Kronecker Product

## ------------------------------------------------------------------------
rownames(A)

## ------------------------------------------------------------------------
rownames(A)<-c("a","b")
colnames(A)<-c("c","d")
A

## ------------------------------------------------------------------------
A[,"d"]

## ------------------------------------------------------------------------
A[3]

## ---- fig.height=1, fig.width=2------------------------------------------
# data() gives you all the datasets
data(iris)
head(iris)

## ------------------------------------------------------------------------
getwd()
setwd("/Users/antobandiera/Dropbox/Teaching NYU/QUANT II/RECITATION/2018-01-26")

## ------------------------------------------------------------------------
#.CSV
dat.csv <- read.csv("http://stat511.cwick.co.nz/homeworks/acs_or.csv")

## ------------------------------------------------------------------------
#STATA
require(foreign)
dat.data <- read.dta("https://stats.idre.ucla.edu/stat/data/test.dta")

## ------------------------------------------------------------------------
for(i in 1:5) {
  cat(i*10," ")
}

## ------------------------------------------------------------------------
for(i in 1:length(vec)) { 
  cat(vec[i]," ")
}

## ------------------------------------------------------------------------
for(i in vec) { 
  cat(i," ")
}

## ------------------------------------------------------------------------
if(vec[2]=="b") print("Hello World!")

## ------------------------------------------------------------------------
if(vec[3]=="a") {
  print("Hello World!")
} else {
  print("!dlroW olleH")
}

## ------------------------------------------------------------------------
vec <- letters[1:3]
new <- vector(length=length(vec))
for(i in 1:length(vec)) {
  if(vec[i]=="b") {
    new[i] <- 13
  } else {
    new[i] <- 0
  }
}
new

## ------------------------------------------------------------------------
new <- ifelse(vec=="b",13,0)
new

## ------------------------------------------------------------------------
add3 <- function(X) {
  return(X+3)
}
add3(2)

## ------------------------------------------------------------------------
my.function <- function(x,y,z){
  out <- (x + y)*z
  return(out)
}
my.function(x = 5, y = 10, z = 3)
my.function(2,2,2)

## ------------------------------------------------------------------------
rnorm(16)

## ------------------------------------------------------------------------
A
apply(A,1,sum) # margin = 1, row
apply(A,2,mean) # margin = 2, column

## ------------------------------------------------------------------------
setwd("/Users/antobandiera/Dropbox/Teaching NYU/QUANT II/RECITATION/2018-01-26")
dir()
iris <- read.csv("iris.csv")

## ----1-simdata,fig.cap='', fig.width=4.5, fig.height=4.5-----------------
set.seed(1023) # Important for replication
X <- rnorm(1000,0,5)
Y <- sin(5*X)*exp(abs(X)) + rnorm(1000)
dat <- data.frame(X,Y)

## ------------------------------------------------------------------------
plot(X,Y,xlim=c(0,5),ylim=c(-50,50))

## ------------------------------------------------------------------------
dat.lm<-lm(Y~X,data=dat)
dat.lm

## ------------------------------------------------------------------------
summary(dat.lm)

## ------------------------------------------------------------------------
require(xtable)

## ------------------------------------------------------------------------
xtable(dat.lm)

## ------------------------------------------------------------------------
xtable(A)

## ------------------------------------------------------------------------
print(xtable(dat.lm,digits=1),booktabs=TRUE)

## ------------------------------------------------------------------------
require(apsrtable)
dat.lm2 <- lm(Y~X+0,data=dat)
apsrtable(dat.lm,dat.lm2)

## ----1-apsrtable,fig.cap='', fig.width=4, fig.height=4-------------------
library(png)
library(grid)
img <- readPNG("apsrtable.png")
grid.raster(img)

## ------------------------------------------------------------------------
require(stargazer)

## ------------------------------------------------------------------------
stargazer(dat.lm,dat.lm2)

## ----1-stargazer,fig.cap='', fig.width=6, fig.height=6-------------------
img <- readPNG("stargazer.png")
grid.raster(img)



